<UserControl x:Class="OC.Assistant.Plugins.PluginEditor"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:plugins="clr-namespace:OC.Assistant.Plugins"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800" x:ClassModifier="internal">
    <Border Background="{DynamicResource White6Brush}" CornerRadius="{DynamicResource ControlCornerRadius}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Label Margin="6,0,0,0" VerticalAlignment="Stretch" VerticalContentAlignment="Center">Properties</Label>
                <Button Width="36" ToolTip="Hide Properties"
                        HorizontalAlignment="Right" VerticalAlignment="Stretch"
                        Click="CloseButtonClick">
                    <ContentControl
                        Template="{DynamicResource IconTemplate}"
                        Margin="0 -2 0 2"
                        FontSize="10"
                        Foreground="{DynamicResource ForegroundBaseBrush}"
                        Content="{DynamicResource IconChromeMinimize}"/>
                </Button>
            </Grid>
            <plugins:EditorWindow 
                Grid.Row="1"
                Margin="20,0,20,0" x:Name="EditorWindow" 
                Changed="EditorWindowOnChanged"
                Saved="EditorWindowOnSaved"/>
            <Grid Grid.Row="2" Height="54" x:Name="ApplyButton">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                    <Button Grid.Column="0"
                            ToolTip="Save changes"
                            HorizontalAlignment="Stretch"
                            Click="ApplyButtonClick"
                            Style="{DynamicResource ButtonPrimary}"
                            Margin="20 0 5 0">
                        Apply
                    </Button>
                    <Button Grid.Column="1" 
                            ToolTip="Save changes"
                            HorizontalAlignment="Stretch"
                            Click="DiscardOnClick"
                            Style="{DynamicResource ButtonSecondary}"
                            Margin="5 0 20 0">
                        Discard
                    </Button>
            </Grid>
        </Grid>
    </Border>
</UserControl>